!function(a){"use strict";function n(){a(".shortcode-blog-masonry .post-gallery-carousel").each(function(){var n=a(this).attr("id"),t={pagination:"#"+n+" .swiper-pagination",paginationClickable:!0,spaceBetween:0,slidesPerView:1,autoHeight:!0,effect:"fade"};setTimeout(function(){new Swiper("#"+n+" .swiper-container",t)},800)})}function t(t){var i=a("#"+t),e=parseInt(i.data("grid-margins"))/2;i.find(".grid-item").css("padding",e+"px"),i.css("margin-left",-e+"px"),i.css("margin-right",-e+"px"),i.css("margin-top",-e+"px"),new AnimOnScroll(document.getElementById(t),{minDuration:.4,maxDuration:.7,viewportFactor:.2}),n()}function i(n,i,e,o,s,r){a.ajax({url:wprotoEngineVars.ajaxurl,type:"POST",dataType:"json",data:{action:"wplab_albedo_ajax_query_posts",query_type:"load_more",atts:n.data("atts"),paged:o},beforeSend:function(){n.addClass("loading"),i.addClass("loading")},success:function(o){e.append(o.html),t(e.attr("id")),n.removeClass("loading"),i.removeClass("loading"),n.data("next-page",o.next_page),s>r&&n.hide(),a("article, li.article").fitVids()}})}window.albedo_blog_masonry_init=function(){a(".shortcode-blog-masonry").each(function(){var n=a(this),e=n.find("ul.grid").attr("id"),o=a("#"+e);t(e),n.find(".ajax-pagination-button").click(function(){if(n.hasClass("loading"))return!1;var t=a(this),e=parseInt(t.data("max-pages")),s=parseInt(t.data("next-page")),r=s+1;return t.data("next-page",r),i(t,n,o,s,r,e),!1});var s=n.find(".pagination.style-infinite");s.length&&o.waitForImages({waitForAll:!0,finished:function(){var t=s.offset().top-a(window).height();a(window).scroll(function(){var e=parseInt(s.data("max-pages")),r=parseInt(s.data("next-page")),d=r+1;a(window).scrollTop()>=t&&0==s.hasClass("loading")&&r<=e&&i(s,n,o,r,d,e)})}})})},window.albedo_blog_masonry_init()}(window.jQuery);

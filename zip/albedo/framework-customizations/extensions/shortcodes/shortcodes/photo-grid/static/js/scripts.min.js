!function(o){"use strict";function t(o){o.lightGallery({mode:wplabAlbedoPhotoGrid.lightboxEffect,cssEasing:"cubic-bezier("+wplabAlbedoPhotoGrid.lightboxEasing+")",download:window.themeFrontCore.stringToBoolean(wplabAlbedoPhotoGrid.lightboxDownload),zoom:window.themeFrontCore.stringToBoolean(wplabAlbedoPhotoGrid.lightboxZoom),fullScreen:window.themeFrontCore.stringToBoolean(wplabAlbedoPhotoGrid.lightboxFullscreen),autoplay:window.themeFrontCore.stringToBoolean(wplabAlbedoPhotoGrid.lightboxAutoplay),thumbnail:window.themeFrontCore.stringToBoolean(wplabAlbedoPhotoGrid.lightboxThumbs),getCaptionFromTitleOrAlt:window.themeFrontCore.stringToBoolean(wplabAlbedoPhotoGrid.lightboxCaptions),progressBar:!1,autoplayControls:!0,pause:parseInt(wplabAlbedoPhotoGrid.lightboxAutoplaySpeed),selector:"figure"})}function e(o,e,a,i){o.justifiedGallery({rowHeight:parseInt(e),maxRowHeight:parseInt(a),lastRow:"nojustify",margins:parseInt(i),border:0,captions:!1,randomize:!1,cssAnimation:!0,selector:"figure, div:not(.spinner)"}),t(o)}function a(e,a,i,n,l,d,r){o.ajax({url:wprotoEngineVars.ajaxurl,type:"POST",dataType:"json",data:{action:"wplab_albedo_ajax_query_posts",query_type:"load_more",atts:e.data("atts"),paged:l},beforeSend:function(){e.addClass("loading"),i.addClass("loading")},success:function(l){o("#wplab_albedo_temp_div").length||o("body").append('<div style="display: none;" id="wplab_albedo_temp_div"></div>');var s=o("#wplab_albedo_temp_div");s.append(l.html),s.find(".item").css("opacity","0").addClass("new-item"),a.append(s.html()),s.remove(),e.removeClass("loading"),i.removeClass("loading"),n.justifiedGallery("norewind"),n.data("lightGallery").destroy(!0),t(n),e.data("next-page",l.next_page),d>r&&e.hide(),o.each(a.find(".new-item"),function(t,e){setTimeout(function(){o(e).addClass("fadeIn animated")},150*t)})}})}window.albedo_portfolio_justified_photos_grid_init=function(){var t=o(".photo-grid-gallery");t.length&&t.each(function(){var i=o(this),n=i.find(".justified-gallery"),l=n.data("row-height"),d=n.data("max-row-height"),r=n.data("margins");e(n,l,d,r);var s=i.find(".pagination.style-infinite");s.length&&t.waitForImages({waitForAll:!0,finished:function(){var e=o("#"+s.data("posts-container-id")),i=s.offset().top-o(window).height();o(window).scroll(function(){var l=parseInt(s.data("max-pages")),d=parseInt(s.data("next-page")),r=d+1;o(window).scrollTop()>=i&&0==s.hasClass("loading")&&d<=l&&a(s,e,t,n,d,r,l)})}})})},window.albedo_portfolio_justified_photos_grid_init()}(window.jQuery);

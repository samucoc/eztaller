!function(e){"use strict";window.themeFrontCore={initialize:function(){var t=this;e(document).ready(function(){t.build(),t.events()})},build:function(){var t=this;e("body").append('<div id="albedo-theme-temp-header"></div>'),this.setupLayout(),this.fixIE(),this.setupDocumentClasses(),this.setupCustomCSS(),this.setupTopBar(),this.setupResponsiveHeader(),this.setupHeaderScroll(),e(window).resize(function(){t.setupTopBar(),t.setupResponsiveHeader(),t.setupHeaderScroll()}),this.initMenu(),this.initOnePageMenu(),this.initLazyLoading(),this.initPreloader(),this.loadSVG(),this.setupParallax(),this.setupPostFormats(),this.setupComments(),this.setupInputForms(),this.setupVideos(),this.bindContactForm(),this.setupWidgets(),this.setupAJAXSearch(),this.setupFooter(),this.setupWooCommerce(),this.initHacks()},events:function(){var t=this;e(".skip-section-link").css("cursor","pointer").click(function(){var t=e("#header-menu-wrapper").hasClass("scroll-menu")?e(this).parents(".pb-section, .vc_row").next().offset().top-e("#header-menu-wrapper").outerHeight():e(this).parents(".pb-section, .vc_row").next().offset().top-20;return e("html, body").animate({scrollTop:t},800),!1}),e(".form-builder-submit").each(function(){e(this).on("click",function(){return e(this).parents("form").submit(),!1})}),e("#content").on("click","#like-post, .post-likes a",function(){var t=e(this),a=t.data("post-id");t.toggleClass("activated clicked");var s=t.hasClass("clicked");return setTimeout(function(){t.removeClass("activated")},1e3),e.ajax({url:wprotoEngineVars.ajaxurl,type:"POST",data:{action:"wplab_albedo_like_post",post_id:a,vote:s},success:function(o){1==s?e.cookie("post_id_"+a+"_liked",s,{path:"/",expires:365}):e.cookie("post_id_"+a+"_liked",null,{path:"/",expires:365}),t.find("span").html(o)}}),!1}),e(".ajax-pagination-link").click(function(){var a=e(this);if("disabled"==a.attr("disabled"))return!1;var s=a.data("target-id"),o=e(s),i=a.data(),n=a.data("action");return e.ajax({url:wprotoEngineVars.ajaxurl,type:"POST",dataType:"json",data:{action:n,data:i},beforeSend:function(){a.attr("disabled","disabled").addClass("active"),o.fadeTo(200,"0.5")},success:function(e){a.data("current-page",e.current_page),a.data("next-page",e.next_page),(e.next_page>a.data("max-pages")||t.stringToBoolean(e.hide_link))&&a.parents(".ajax-pagination").remove(),e.html&&(o.append(e.html),t.setupPostFormats(),t.setupVideos(),t.bLazy.revalidate(),t.loadSVG()),a.removeAttr("disabled").removeClass("active"),o.fadeTo(200,"1")}}),!1}),e("#demo-panel .open-close").click(function(){e("body, #demo-panel, #demo-overlay").toggleClass("demo-panel-opened")}),e("#demo-panel .demos a").hover(function(){e("#demo-panel .demos a").addClass("fade"),e(this).addClass("current")},function(){e("#demo-panel .demos a").removeClass("fade"),e(this).removeClass("current")}),e("#demo-overlay").click(function(){e("body, #demo-panel, #demo-overlay").removeClass("demo-panel-opened")})},setupLayout:function(){e("body").hasClass("sidebar-left_right")&&(e(window).width()<=995?e("#sidebar").before(e("#content")):e("#content").before(e("#sidebar")))},initPreloader:function(){var t=this;e(window).load(function(){e("body.preloader").length?(e("body").waitForImages({waitForAll:!0,finished:function(){e("#preloader").fadeOut(1200,function(){e("body.preloader").removeClass("preloader"),e(this).remove(),e("#wrap").css("opacity","1"),t.setupAnimations()}),setTimeout(function(){e("#demo-panel .buttons").css("left","-50px")},3e3)}}),t.isIE&&(e("#preloader").remove(),e("#wrap").css("opacity","1"),e("body").removeClass("preloader"),t.setupAnimations())):(t.setupAnimations(),setTimeout(function(){e("#demo-panel .buttons").css("left","-50px")},3e3))})},fixIE:function(){e("iframe").each(function(){var t=e(this).attr("src");void 0!==t&&!1!==t&&(t.indexOf("?")>0?e(this).attr({src:t+"&wmode=transparent",wmode:"opaque"}):e(this).attr({src:t+"?wmode=transparent",wmode:"opaque"}))})},setupDocumentClasses:function(){var t=this;e("html").removeClass("no-js"),(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.platform))&&e("html").addClass("mobile"),-1!=navigator.userAgent.indexOf("Safari")&&-1!=navigator.userAgent.indexOf("Mac")&&-1==navigator.userAgent.indexOf("Chrome")&&e("html").addClass("mac"),t.isIE=document.documentMode||/Edge/.test(navigator.userAgent),t.isIE11=!!window.MSInputMethodContext&&!!document.documentMode,t.isIE10=!1,t.isIE&&(e("body").addClass("ie"),t.isIE11?e("body").addClass("ie11"):t.isIE10&&e("body").addClass("ie10")),e("body").hasClass("single-docs")&&e("li.menu-item-object-docs").addClass("current-menu-item")},setupCustomCSS:function(){e("*[data-custom-css]").not(".albedo-custom-css-added").each(function(){var t=e(this);e("head").append('\x3c!-- auto generated custom css by element / shortcode --\x3e<style type="text/css" id="albedo-custom-css-id-'+t.attr("id")+'">'+e(this).data("custom-css")+"</style>"),t.addClass("albedo-custom-css-added")})},setupTopBar:function(){var t=e("#top-bar"),a=e(".top-bar"),s=e("#wpadminbar"),o=e("#albedo-theme-temp-header"),i=t.hasClass("sticky"),n=s.length?s.outerHeight():0,r=e(window).width(),d=parseInt(t.data("responsive"));r<=d?a.addClass("responsive"):a.removeClass("responsive"),i&&!e("#top-bar-clone").length&&(l=t.clone()).attr("id","top-bar-clone").addClass("menu-item-cloned").appendTo(o);var l=e("#top-bar-clone");t.hasClass("mobile-hidden")&&r<=d?(t.hide(),l.hide()):t.show(),e(window).scroll(function(){var a=e(window).scrollTop();i&&r>600?(l.css({position:"fixed",left:0,right:0}),r>d?l.css({top:n,display:"block"}):r<=d&&t.hasClass("mobile-sticky-off")?l.hide():l.css({top:n,display:"block"})):i&&r<600&&(l.css({position:"fixed",left:0,right:0}),a>n&&!t.hasClass("mobile-sticky-off")?l.css({top:0,display:"block"}):l.hide()),t.hasClass("mobile-hidden")&&r<=d?(t.hide(),l.hide()):t.show()})},setupResponsiveHeader:function(){e(".header-menu-wrapper").each(function(){var t=e(this),a=t.data("responsive");e(window).width()<=a?t.removeClass("responsive-mode-off").addClass("responsive-mode-on"):t.removeClass("responsive-mode-on").addClass("responsive-mode-off")})},setupHeaderScroll:function(){e("#header-menu");var t=e("#header-menu-wrapper"),a=e("#top-bar"),s=e("#wpadminbar"),o=e("#albedo-theme-temp-header"),i=a.length?parseInt(a.outerHeight()):0,n=s.length?parseInt(s.outerHeight()):0,r=s.length&&"fixed"==s.css("position"),d=parseInt(t.data("menu-height")),l=parseInt(t.data("menu-scrolled-height")),c=t.hasClass("scroll-menu"),u=(a.hasClass("sticky"),t.data("responsive")),p=a.data("responsive"),h=e(window).width(),m=r?n:0,f=r?n:0;if(a.length&&a.hasClass("sticky")?h<=600&&a.hasClass("mobile-sticky-off")?(m=n+i,f=0):h<=600&&a.hasClass("mobile-sticky-on")?(m=n,f=i):h<=p&&a.hasClass("mobile-sticky-off")?(m=i,f=n):h<=p&&a.hasClass("mobile-sticky-on")?(m=0,f=i+n):h>p&&(m=0,f=n+i):a.length&&a.hasClass("normal")&&(m=r?n:0,f=r?n:0),h<=u&&t.hasClass("mobile-scroll-off")&&(c=!1,e("#header-menu-wrapper-clone").remove()),c){c&&!e("#header-menu-wrapper-clone").length&&t.clone().attr("id","header-menu-wrapper-clone").addClass("menu-item-cloned").appendTo(o);var g=e("#header-menu-wrapper-clone"),w=g.find(".header-menu");g.css({position:"fixed",left:0,right:0,top:0}),e(window).scroll(function(){e(window).scrollTop()>m?(w.css("height",l),g.css({top:f,display:"block"}).addClass("scrolled"),t.css("opacity","0")):(w.css("height",d),g.removeClass("scrolled").hide(),t.css("opacity","1"))})}},initMenu:function(){var t=this;e(".menu-item-has-children").append('<a href="javascript:;" class="mobile-submenu-toggler"></a>'),e(".mobile-submenu-toggler").click(function(){return e(this).toggleClass("open"),e(this).parent().find(".sub-menu:first, .mega-menu:first").not(".mega-menu-row").toggle("fast"),!1}),e("body").on("click",".menu-toggler",function(){var t=e(this),a=t.parents(".header-menu").hasClass("minimal-overlay-menu");return t.toggleClass("open"),a?(e("body").addClass("minimal-overlay-menu"),e("#side-minimal-menu").toggleClass("open")):e(".menu-layout-item").toggleClass("open"),!1}),e(document).mouseup(function(t){var a=e(".menu-layout-item, .menu-toggler, .menu-search-toggle, .header-menu .item-search .widget-holder, .header-cart-toggle, .header-menu .item-cart .widget-holder");a.is(t.target)||0!==a.has(t.target).length||a.removeClass("open");var s=e(".side-overlay-toggle, #side-overlay-menu .widget-holder, #side-minimal-menu .side-menu-content");s.is(t.target)||0!==s.has(t.target).length||(e("body").removeClass("side-overlay-menu").removeClass("minimal-overlay-menu"),s.removeClass("open"))}),e(".menu-search-toggle").click(function(){var t=e(this);return t.toggleClass("open"),t.next(".widget-holder").toggleClass("open"),setTimeout(function(){t.next(".widget-holder").find("input").focus()},350),!1}),e(".header-cart-toggle").click(function(){var t=e(this);return t.toggleClass("open"),t.next(".widget-holder").toggleClass("open"),!1}),e(".side-overlay-toggle").click(function(){return e(this).toggleClass("open"),e("body").toggleClass("side-overlay-menu"),t.bLazy.revalidate(),!1})},initOnePageMenu:function(){if(e("body").hasClass("one-page-navigation")){e(".header-menu a").click(function(){var t=e(this),a=t.attr("href");if(-1!==a.indexOf("#!/")){var s=a.split("#!/")[1],o=e("#"+s);if(o.length)return e("html, body").animate({scrollTop:parseInt(o.offset().top-wprotoEngineVars.onepageScrollOffeset)},800,function(){e(".header-menu li").removeClass("current-menu-item");var a=t.parent().attr("id"),o=parseInt(a.match(/\d+$/)[0]);e(".header-menu li.menu-item-"+o).addClass("current-menu-item"),window.location.hash="#!/"+s}),!1}});var t=window.location.hash;if(-1!==t.indexOf("#!/")){var a=t.split("#!/")[1],s=e("#"+a);if(s.length)return setTimeout(function(){e("html, body").animate({scrollTop:parseInt(s.offset().top-wprotoEngineVars.onepageScrollOffeset)},800,function(){e(".header-menu li").removeClass("current-menu-item"),e(".header-menu a").each(function(){-1!==e(this).attr("href").indexOf(t)&&e(this).parent().addClass("current-menu-item")}),window.location.hash="#!/"+a})},1e3),!1}}},initLazyLoading:function(){var t=this;t.bLazy=new Blazy({loadInvisible:!0,src:"data-lazy-src",success:function(a){t.isIE&&setTimeout(function(){$masonry.isotope("layout")},500),e(a).parent().addClass("blazy-loaded")}})},setupAnimations:function(){var t=this;if(e("body").hasClass("anim-on")){var a=e("body").hasClass("anim-mobile-on");new WOW({boxClass:"wow",animateClass:"animated",offset:0,mobile:a,live:!0,callback:function(t){var a=e(t);if(a.hasClass("animationProgressBar")){var s=a.data("width");a.width(s)}else a.hasClass("animationNuminate")?a.each(function(){var t=e(this),a=t.data("to");t.numinate({format:"%counter%",from:1,to:a,runningInterval:2e3,stepUnit:5})}):a.hasClass("typed")?a.each(function(){var t=e(this),a=t.data("typed-speed"),s=t.data("typed-delay"),o=t.html();t.html("").typed({strings:[o],typeSpeed:a,contentType:"html",showCursor:!1,startDelay:s,callback:function(){t.addClass("typed-ended")}})}):a.hasClass("odometer")&&a.each(function(){e(this).text(e(this).data("to"))})}}).init(),t.isMobile&&!a&&t.animRollback()}else t.animRollback();e(".skrollr").length&&(window.wplab_albedo_skrollr=skrollr.init({forceHeight:!1}),window.wplab_albedo_skrollr.isMobile()&&window.wplab_albedo_skrollr.destroy())},animRollback:function(){e(".wow, .typed").css("opacity","1"),e(".animationNuminate").each(function(){e(this).html(e(this).data("to"))}),e(".animationProgressBar").each(function(){var t=e(this).data("width");e(this).width(t)}),e(".odometer").each(function(){e(this).text(e(this).data("to"))})},loadSVG:function(){e("img.image-svg").each(function(){var t=e(this),a=t.attr("id"),s=t.attr("class"),o=t.attr("src"),i=t.parent(),n=i.attr("id"),r=i.data("svg-color"),d=o.replace(/^.*\./,"");"svg"==(d=d.toLowerCase())&&e.get(o,function(o){var d=e(o).find("svg");void 0!==typeof a&&(d=d.attr("id",a)),void 0!==typeof s&&(d=d.attr("class",s+" replaced-svg")),!(d=d.removeAttr("xmlns:a")).attr("viewBox")&&d.attr("height")&&d.attr("width")&&d.attr("viewBox","0 0 "+d.attr("height")+" "+d.attr("width")),void 0!==r&&i.append("<style>#"+n+" svg path, #"+n+" svg rect, #"+n+" svg polygon { fill: "+r+"}</style>"),t.replaceWith(d)},"xml")})},setupParallax:function(){e(".prev-next-posts-wrapper.style-thumb_title .parallax-scene, .wrapper404 .parallax-scene").each(function(){e(this).parallax({invertX:!1,invertY:!1})})},setupPostFormats:function(){e("article.format-chat .content-text-wrapper p").each(function(){var t=e(this).text().split(" ");e(this).html("<strong>"+t.shift()+"</strong> "+t.join(" "))}),e("article, li.article").fitVids(),e(".single .post-gallery-carousel").each(function(){var t=e(this),a=t.attr("id"),s={pagination:"#"+a+" .swiper-pagination",paginationClickable:!0,spaceBetween:40,autoHeight:!0,centeredSlides:!0,coverflow:{slideShadows:!1},flip:{slideShadows:!1},cube:{slideShadows:!1,shadow:!1},fade:{crossFade:!0}};e.extend(s,{autoplay:t.data("autoplay")}),e.extend(s,{autoplayStopOnLast:window.themeFrontCore.stringToBoolean(t.data("autoplay-stop-on-last"))}),e.extend(s,{autoplayDisableOnInteraction:window.themeFrontCore.stringToBoolean(t.data("autoplay-disable-on-interaction"))});var o=t.data("slides-per-view");if(""!==o)e.extend(s,{slidesPerView:o,breakpoints:{992:{slidesPerView:t.data("slides-per-view-medium")},767:{slidesPerView:t.data("slides-per-view-small"),autoHeight:!0}}}),e.extend(s,{initialSlide:t.data("initial-slide")});else{var i=t.data("effect");e.extend(s,{effect:i}),t.addClass("slider-effect-"+i),e.extend(s,{loop:window.themeFrontCore.stringToBoolean(t.data("loop"))})}setTimeout(function(){new Swiper("#"+a+" .swiper-container",s)},800)})},setupComments:function(){e("#comments.with-avatars ul.children").prev(".comment-body").addClass("has-children"),e("#comments.with-avatars .has-children").parent().addClass("comments-thread-expanded")},setupInputForms:function(){0==e("body").hasClass("no-custom-input")&&(e("select").dropdown({mobile:!0}),e("input[type=radio], input[type=checkbox]").checkbox().change(function(){var t=e(this);t.is("[onclick]")&&setTimeout(function(){t.click()},100)})),e(".form-builder-item").each(function(){var t=e(this).find("label");t.find("sup").remove(),""==e.trim(t.text())&&t.remove()})},setupVideos:function(){e("body.single article.format-video iframe").each(function(){e(this).parents("p").addClass("responsive-video-contaner")})},bindContactForm:function(){window.fwForm&&fwForm.initAjaxSubmit({selector:"form.fw_form_fw_form",onErrors:function(e,t){jQuery.each(t.errors,function(t,a){a='<p class="form-error">{message}</p>'.replace("{message}",a);var s=e.$form.find('[name="'+t+'"]').last();s.length||(s=e.$form.find('[name^="'+t+'["]').last()),s.length?s.parents(".form-builder-item").append(a):e.$form.prepend(a)}),"undefined"!=typeof Recaptcha&&Recaptcha.reload(),"undefined"!=typeof grecaptcha&&grecaptcha.reset()},onSuccess:function(t,a){if(e("body").hasClass("wp-admin"))fwForm.backend.showFlashMessages(fwForm.backend.renderFlashMessages(a.flash_messages));else{var s=fwForm.frontend.renderFlashMessages(a.flash_messages);s.length||(s="<p>Success</p>"),t.$form.fadeOut(function(){t.$form.html(s).fadeIn()}),t.$form.on("submit",function(e){e.preventDefault(),e.stopPropagation()});var o=e.trim(t.$form.parent().data("redirect-url"));""!=o&&(window.location=o)}},loading:function(e,t){}})},setupWidgets:function(){var t=this;e(".widget_mc4wp_form_widget").each(function(){e(this).find("input[type=submit]").wrap('<span class="submit-wrapper"></span>')}),e(".aside").each(function(){e(this).hasClass("scroll-last-widget")&&(t.checkStickyWidget(e(".aside .widget:last-of-type")),e(window).scroll(function(){t.checkStickyWidget(e(".aside .widget:last-of-type"))}),e(window).resize(function(){t.checkStickyWidget(e(".aside .widget:last-of-type"))}))})},setupAJAXSearch:function(){var t=e(".ajax-search-form");t.length&&t.each(function(){var t=e(this).find("input[name=s]");t.devbridgeAutocomplete({serviceUrl:wprotoEngineVars.ajaxurl,type:"POST",noCache:!0,dataType:"json",minChars:t.data("min-chars"),showNoSuggestionNotice:!0,noSuggestionNotice:wprotoEngineVars.ajaxNoResults,groupBy:"category",params:{action:"wplab_albedo_ajax_search"},onSearchStart:function(e){t.addClass("in-ajax-progress")},onSearchComplete:function(e,a){t.removeClass("in-ajax-progress")},onSelect:function(e){window.location=e.data.link}})})},setupFooter:function(){e("#gotop, .gotop-link").click(function(){return e("html, body").animate({scrollTop:0},"slow"),!1})},setupWooCommerce:function(){e(".single-product").on("click",".reset_variations",function(){e(".variations select").dropdown("update")})},initHacks:function(){e(".wedocs-print-article").off("click").on("click",function(){return window.print(),!1})},checkStickyWidget:function(t){e(window).width()<992?(t.trigger("sticky_kit:detach"),t.parent("aside").css("min-height","1px")):(t.parent("aside").css("min-height",e("#content").height()+"px"),t.stick_in_parent({recalc_every:1,offset_top:parseInt(wprotoEngineVars.scrollLastWidgetOffset)}))},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isValidEmailAddress:function(e){return new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(e)},preloadImages:function(t){e(t).each(function(){e("<img/>")[0].src=this})},createPreloaderDivs:function(e){var t=[],a=0;for(a=1;a<=e;a++)t.push("<div></div>");return t},stringToBoolean:function(e){switch(e){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:case"":return!1;default:return Boolean(e)}}},window.themeFrontCore.initialize()}(window.jQuery);
